
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GLAFT Quick Start &#8212; GLAFT</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="canonical" href="https://whyjz.github.io/glacier-ft-test/doc/quickstart.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Reference" href="reference.html" />
    <link rel="prev" title="Introduction" href="introduction.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/glaft_cover_img.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">GLAFT</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  GLAFT user manual
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   GLAFT Quick Start
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="reference.html">
   Reference
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Supplementary tables and figures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/0_velocity_plots/TableS1.html">
   Table S1: Parameters of all 172 tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/5_multiple_metrics/TableS2.html">
   Table S2: Results of all 172 tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/0_velocity_plots/TableS3.html">
   Table S3: List of all 35 ITS_LIVE maps
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/5_multiple_metrics/TableS4.html">
   Table S4: Metrics for the ITS_LIVE velocity maps
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/0_velocity_plots/FigureS1-S8.html">
   Figures S1-S8: All 172 test velocity maps
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/1_static_area_error/FigureS9-S16.html">
   Figures S9-S16: Static area velocity analysis for all tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/2_longitudinal_shear_strain/FigureS17-S28.html">
   Figures S17-S28: Longitudinal strain rate analysis for all tests
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Figure scripts
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/1_static_area_error/Fig2.html">
   Figure 2 script
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/2_longitudinal_shear_strain/Fig3.html">
   Figure 3 script
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/5_multiple_metrics/Fig4.html">
   Figure 4 script
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/5_multiple_metrics/Fig5.html">
   Figure 5 script
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/5_multiple_metrics/Fig7.html">
   Figure 7 script
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Intermediate processing steps
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/7_gnss_processing_intermediate/Kaskawulsh_GNSS_record_data_processing_manuscript.html">
   GNSS data processing script
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/3_extract_gnss-pos_velocity/extract_gnss-pos_velocity.html">
   Extract velocity map data at GNSS locations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/4_invalid_pixel_percent/invalid_pixel_percent.html">
   Calculate invalid pixel percentage
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  ITS_LIVE data processing scripts
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/1_static_area_error/metric_static-area-velo-ITSLIVE.html">
   ITS_LIVE: calculating
   <span class="math notranslate nohighlight">
    \(\delta_u\)
   </span>
   and
   <span class="math notranslate nohighlight">
    \(\delta_v\)
   </span>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/2_longitudinal_shear_strain/metric_longitudinal-shear-strain-ITSLIVE.html">
   ITS_LIVE: calculating
   <span class="math notranslate nohighlight">
    \(\delta_{x'y'}\)
   </span>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/3_extract_gnss-pos_velocity/extract_gnss-pos_velocity-ITSLIVE.html">
   ITS_LIVE: Extract velocity map data at GNSS locations
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/doc/quickstart.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/whyjz/glacier-ft-test"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/whyjz/glacier-ft-test/issues/new?title=Issue%20on%20page%20%2Fdoc/quickstart.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/whyjz/glacier-ft-test/edit/master/jupyter-book/doc/quickstart.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/whyjz/glacier-ft-test/master?urlpath=tree/jupyter-book/doc/quickstart.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#input-file-format">
   Input file format
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#procedure">
   Procedure
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#checking-input-files">
     Checking input files
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metric-1-correct-match-uncertainty-on-static-terrains">
     Metric 1: Correct-match uncertainty on static terrains
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metric-2-along-flow-strain-rate-variability">
     Metric 2: Along-flow strain rate variability
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>GLAFT Quick Start</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#input-file-format">
   Input file format
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#procedure">
   Procedure
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#checking-input-files">
     Checking input files
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metric-1-correct-match-uncertainty-on-static-terrains">
     Metric 1: Correct-match uncertainty on static terrains
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metric-2-along-flow-strain-rate-variability">
     Metric 2: Along-flow strain rate variability
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="glaft-quick-start">
<h1>GLAFT Quick Start<a class="headerlink" href="#glaft-quick-start" title="Permalink to this headline">¶</a></h1>
<p>This notebook shows how to use the GLAcier Feature Tracking testkit (GLAFT) to calculate and visualize the benchmarking metrics accosiated with a glacier velocity map.</p>
<div class="section" id="input-file-format">
<h2>Input file format<a class="headerlink" href="#input-file-format" title="Permalink to this headline">¶</a></h2>
<p>To begin, you have to acquire the following files:</p>
<ol class="simple">
<li><p><strong>Velocity map as two files</strong>; one showing the <span class="math notranslate nohighlight">\(V_x\)</span> component and the other showing the <span class="math notranslate nohighlight">\(V_y\)</span> component. GLAFT accepts any format readable by the Python rasterio package, abd we recommend using GeoTiff as the preferred velocity map format.</p></li>
<li><p><strong>Polygon geometries indicating static terrain or ice flow locations</strong>. We have tested ESRI shapefile as the geometry format. The geometries will be parsed by the Python geopandas module, and the other compatible formats should work too (such as geopackage or geojson, although not tested). Polygon geometries should use the same coordinate reference system (CRS) from the velocity maps</p></li>
</ol>
</div>
<div class="section" id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<p>First, import the GLAFT module:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">glaft</span>
</pre></div>
</div>
</div>
</div>
<p>And specify the input velocity maps and polygon geometries. We use one of the test pairs presented in the previously mentioned study as a demo example: Kaskawulsh glacier velocity between March 4 and April 5, 2018, processed with the CARST software with the following key parameters. More details are available in the study “Statistics and flow dynamics based assessments of feature-tracked glacier velocities derived from satellite images.”</p>
<ul class="simple">
<li><p>Matching template size: 64 pixels (960 m)</p></li>
<li><p>Output resolution (aka skip size): 4 pixels (60 m)</p></li>
<li><p>Pre-processing filter: Gaussian filter</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vx</span> <span class="o">=</span> <span class="s1">&#39;demo-data/20180304-20180405_velo-raw_vx.tif&#39;</span>
<span class="n">vy</span> <span class="o">=</span> <span class="s1">&#39;demo-data/20180304-20180405_velo-raw_vy.tif&#39;</span>
<span class="n">static_area</span>  <span class="o">=</span> <span class="s1">&#39;demo-data/bedrock_V2.shp&#39;</span>
<span class="n">iceflow_area</span> <span class="o">=</span> <span class="s1">&#39;demo-data/glacier_V1_Kaskawulsh_s_inwardBuffer600m.shp&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="checking-input-files">
<h3>Checking input files<a class="headerlink" href="#checking-input-files" title="Permalink to this headline">¶</a></h3>
<p>GLAFT has a function called <code class="docutils literal notranslate"><span class="pre">show_velocomp</span></code> to visualize the input raster.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">glaft</span><span class="o">.</span><span class="n">show_velocomp</span><span class="p">(</span><span class="n">vx</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/quickstart_5_0.png" src="../_images/quickstart_5_0.png" />
</div>
</div>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">prep_colorbar_mappable</span></code> function to prepare and show colorbar.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">cm_settings</span> <span class="o">=</span> <span class="n">glaft</span><span class="o">.</span><span class="n">show_velocomp</span><span class="p">(</span><span class="n">vx</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">mappable</span> <span class="o">=</span> <span class="n">glaft</span><span class="o">.</span><span class="n">prep_colorbar_mappable</span><span class="p">(</span><span class="o">**</span><span class="n">cm_settings</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">mappable</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$V_x$ (m/day)&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/quickstart_7_0.png" src="../_images/quickstart_7_0.png" />
</div>
</div>
<p>GLAFT does not provide functions to visualize and check the polygon geometries, but one can use geopandas to achieve that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">glaft</span><span class="o">.</span><span class="n">show_velocomp</span><span class="p">(</span><span class="n">vx</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">polygons</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">static_area</span><span class="p">)</span>
<span class="n">polygons</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/quickstart_9_0.png" src="../_images/quickstart_9_0.png" />
</div>
</div>
</div>
<div class="section" id="metric-1-correct-match-uncertainty-on-static-terrains">
<h3>Metric 1: Correct-match uncertainty on static terrains<a class="headerlink" href="#metric-1-correct-match-uncertainty-on-static-terrains" title="Permalink to this headline">¶</a></h3>
<p>To calculate the metric, we first construct a <code class="docutils literal notranslate"><span class="pre">glaft.Velocity</span></code> object with all necessary files as arguments.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span> <span class="o">=</span> <span class="n">glaft</span><span class="o">.</span><span class="n">Velocity</span><span class="p">(</span><span class="n">vxfile</span><span class="o">=</span><span class="n">vx</span><span class="p">,</span> <span class="n">vyfile</span><span class="o">=</span><span class="n">vy</span><span class="p">,</span> <span class="n">static_area</span><span class="o">=</span><span class="n">static_area</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And then we can use the method <code class="docutils literal notranslate"><span class="pre">static_terrain_analysis</span></code> to perform the entire analysis. This method is essentially a wrapper script containing 11 steps for calculating kernel density estimate (KDE).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">static_terrain_analysis</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Running clip_static_area
Running calculate_xystd
Running calculate_bandwidth
Running calculate_kde
Running construct_crude_mesh
Running eval_crude_mesh
Running construct_fine_mesh
Running eval_fine_mesh
Running thresholding_fine_mesh
Running thresholding_metric
Running cal_outlier_percent
</pre></div>
</div>
</div>
</div>
<p>Now the metric and the other derived values are accessible via the following object attributes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;delta_x: </span><span class="si">{:.4}</span><span class="s1"> (m/day)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">experiment</span><span class="o">.</span><span class="n">metric_static_terrain_x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;delta_y: </span><span class="si">{:.4}</span><span class="s1"> (m/day)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">experiment</span><span class="o">.</span><span class="n">metric_static_terrain_y</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;KDE peak location x: </span><span class="si">{:.4}</span><span class="s1"> (m/day)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">experiment</span><span class="o">.</span><span class="n">kdepeak_x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;KDE peak location y: </span><span class="si">{:.4}</span><span class="s1"> (m/day)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">experiment</span><span class="o">.</span><span class="n">kdepeak_y</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Incorrect match percentage: </span><span class="si">{:.2}</span><span class="s1">%&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">experiment</span><span class="o">.</span><span class="n">outlier_percent</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>delta_x: 0.1501 (m/day)
delta_y: 0.1598 (m/day)
KDE peak location x: -0.01949 (m/day)
KDE peak location y: -0.02445 (m/day)
Incorrect match percentage: 7.1%
</pre></div>
</div>
</div>
</div>
<p>There are two ways to visualize the analysis results. First, you can set the <code class="docutils literal notranslate"><span class="pre">plot</span></code> argument as either <code class="docutils literal notranslate"><span class="pre">full</span></code> or <code class="docutils literal notranslate"><span class="pre">zoomed</span></code> for the <code class="docutils literal notranslate"><span class="pre">static_terrain_analysis</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">static_terrain_analysis</span><span class="p">(</span><span class="n">plot</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Running clip_static_area
Running calculate_xystd
Running calculate_bandwidth
Running calculate_kde
Running construct_crude_mesh
Running eval_crude_mesh
Running construct_fine_mesh
Running eval_fine_mesh
Running thresholding_fine_mesh
Running thresholding_metric
Running cal_outlier_percent
</pre></div>
</div>
<img alt="../_images/quickstart_17_1.png" src="../_images/quickstart_17_1.png" />
</div>
</div>
<p>Alternatively, once you have performed the analysis, you can use the <code class="docutils literal notranslate"><span class="pre">plot_full_extent</span></code> or <code class="docutils literal notranslate"><span class="pre">plot_zoomed_extent</span></code> method for the same plotting functionality (with the <code class="docutils literal notranslate"><span class="pre">metric</span></code> flag set to 1).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">plot_zoomed_extent</span><span class="p">(</span><span class="n">metric</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/quickstart_19_0.png" src="../_images/quickstart_19_0.png" />
</div>
</div>
</div>
<div class="section" id="metric-2-along-flow-strain-rate-variability">
<h3>Metric 2: Along-flow strain rate variability<a class="headerlink" href="#metric-2-along-flow-strain-rate-variability" title="Permalink to this headline">¶</a></h3>
<p>Again, we need to construct a <code class="docutils literal notranslate"><span class="pre">glaft.Velocity</span></code> object first. Instead of using the <code class="docutils literal notranslate"><span class="pre">static_area</span></code> argument, we pass the polygon file path to the <code class="docutils literal notranslate"><span class="pre">on_ice_area</span></code> argument.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span> <span class="o">=</span> <span class="n">glaft</span><span class="o">.</span><span class="n">Velocity</span><span class="p">(</span><span class="n">vxfile</span><span class="o">=</span><span class="n">vx</span><span class="p">,</span> <span class="n">vyfile</span><span class="o">=</span><span class="n">vy</span><span class="p">,</span> <span class="n">on_ice_area</span><span class="o">=</span><span class="n">iceflow_area</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And then we can execute the wrapper method <code class="docutils literal notranslate"><span class="pre">longitudinal_shear_analysis</span></code> to calculate Metric 2. This method contains 15 sub-steps.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">longitudinal_shear_analysis</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Running clip_on_ice_area
Running get_grid_spacing
Running calculate_flow_theta
Running calculate_strain_rate
Running prep_strain_rate_kde
Running calculate_xystd
Running calculate_bandwidth
Running calculate_kde
Running construct_crude_mesh
Running eval_crude_mesh
Running construct_fine_mesh
Running eval_fine_mesh
Running thresholding_fine_mesh
Running thresholding_metric
Running cal_outlier_percent
</pre></div>
</div>
</div>
</div>
<p>Now the metric and the other derived values are accessible via the following object attributes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;delta_x&#39;x&#39;: </span><span class="si">{:.4}</span><span class="s2"> (1/day)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">experiment</span><span class="o">.</span><span class="n">metric_alongflow_normal</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;delta_x&#39;y&#39;: </span><span class="si">{:.4}</span><span class="s2"> (1/day)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">experiment</span><span class="o">.</span><span class="n">metric_alongflow_shear</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>delta_x&#39;x&#39;: 0.001755 (1/day)
delta_x&#39;y&#39;: 0.001646 (1/day)
</pre></div>
</div>
</div>
</div>
<p>We have the same two ways to visualize the results: by setting the <code class="docutils literal notranslate"><span class="pre">plot</span></code> argument for <code class="docutils literal notranslate"><span class="pre">longitudinal_shear_analysis</span></code>, or by calling <code class="docutils literal notranslate"><span class="pre">plot_full_extent</span></code> or <code class="docutils literal notranslate"><span class="pre">plot_zoomed_extent</span></code> (with a <code class="docutils literal notranslate"><span class="pre">metric</span></code> argument set to <code class="docutils literal notranslate"><span class="pre">2</span></code>) after <code class="docutils literal notranslate"><span class="pre">longitudinal_shear_analysis</span></code> is executed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">longitudinal_shear_analysis</span><span class="p">(</span><span class="n">plot</span><span class="o">=</span><span class="s1">&#39;zoomed&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Running clip_on_ice_area
Running get_grid_spacing
Running calculate_flow_theta
Running calculate_strain_rate
Running prep_strain_rate_kde
Running calculate_xystd
Running calculate_bandwidth
Running calculate_kde
Running construct_crude_mesh
Running eval_crude_mesh
Running construct_fine_mesh
Running eval_fine_mesh
Running thresholding_fine_mesh
Running thresholding_metric
Running cal_outlier_percent
</pre></div>
</div>
<img alt="../_images/quickstart_27_1.png" src="../_images/quickstart_27_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">plot_full_extent</span><span class="p">(</span><span class="n">metric</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/quickstart_28_0.png" src="../_images/quickstart_28_0.png" />
</div>
</div>
<p>For advanced settings and workflows, please see <a class="reference internal" href="reference.html"><span class="doc std std-doc">reference page</span></a> for details.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-.conda-eztrack-py"
        },
        kernelOptions: {
            kernelName: "conda-env-.conda-eztrack-py",
            path: "./doc"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-.conda-eztrack-py'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="introduction.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Introduction</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="reference.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Reference</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Whyjay Zheng, Shashank Bhushan, Maximillian Van Wyk De Vries, William Kochtitzky, David Shean, Luke Copland, Christine Dow, Fernando Pérez<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>